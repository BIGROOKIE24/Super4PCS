
<!-- HTML header for doxygen 1.8.8-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <!-- For Mobile Devices -->
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
        <meta name="generator" content="Doxygen 1.8.6"/>
        <script type="text/javascript" src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
        <title>OpenGR: Usage</title>
        <!--<link href="tabs.css" rel="stylesheet" type="text/css"/>-->
        <script type="text/javascript" src="dynsections.js"></script>
        <link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
        <script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js", "TeX/AMSsymbols.js", "TeX/AMSmath.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
        <link href="tabs.css" rel="stylesheet" type="text/css"/>
        <link href="doxygen.css" rel="stylesheet" type="text/css" />
        <link href="customdoxygen.css" rel="stylesheet" type="text/css"/>
        <link href='https://fonts.googleapis.com/css?family=Roboto+Slab' rel='stylesheet' type='text/css'>
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/css/bootstrap.min.css">
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/js/bootstrap.min.js"></script>
        <script type="text/javascript" src="doxy-boot.js"></script>
    </head>
    <body>
        <nav class="navbar navbar-default" role="navigation">
            <div class="container">
                <div class="navbar-header">
                    <img alt="OpenGR-logo" src="logo_dox.png"/>
                    <div id="projectbrief">A 3D Global Registration Library</div>
                    <!-- <a class="navbar-brand">OpenGR V1.1.3(0967cd8)</a> -->
                </div>
            </div>
        </nav>
        <div id="top"><!-- do not remove this div, it is closed by doxygen! -->
            <div class="content" id="content">
                <div class="container">
                    <div class="row">
                        <div class="col-sm-12 panel " style="padding-bottom: 15px;">
                            <div style="margin-bottom: 15px;">
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Usage </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>In this page we review the main parameters of the Super4PCS algorithm, and how to use them properly to efficiently register point-clouds. We also list and describe difficult configurations that may arise sometime, how to detect them and sort them out.</p>
<p>Specific cases are described in dedicated pages:</p>
<ul>
<li>usage-partinwhole</li>
</ul>
<p>To get the exhaustive list of Super4PCS parameters, run the executable found in <code>${CMAKE_INSTALL_PREFIX}/bin/</code> directory: </p>
<pre class="fragment">./Super4PCS -h
</pre><p>In the current version, you should get </p>
<pre class="fragment">Usage: ./Super4PCS -i input1 input2
    [ -o overlap (0.20) ]
    [ -d delta (5.00) ]
    [ -n n_points (200) ]
    [ -a norm_diff (90.000000) ]
    [ -c max_color_diff (150.000000) ]
    [ -t max_time_seconds (10) ]
    [ -r result_file_name (output.obj) ]
    [ -x (use 4pcs: false by default) ]
</pre><p>Each parameter is described by its string identifiers, followed by the default value between (). Note that all parameters string must be followed by a value, except -x, the option to use 4PCS instead of Super4PCS.</p>
<p><b>Note for 4PCS users:</b> &gt;Super4PCS comes with exactly the same interface than 4PCS. So you can use the same settings, you should get similar results. &gt;In case you need it, Super4PCS also includes the original 4PCS procedure. You can call it by adding -x to your command line.</p>
<h2>Playing with parameters</h2>
<h3>Parameters overview</h3>
<p>The three main parameters of the algorithm (overlap. number of samples, and accuracy) are described in the following sections.</p>
<p>The <code>-a</code> and <code>-c</code> parameters defines threshold used to filter pairs according to their consistency, regarding normal angles and rgb values respectively. This filtering is enabled only when the associated fields are loaded from the input files.</p>
<p>Super4PCS explores the transformation space to align the two input clouds. The maximum time allowed to the process is set using the option <code>-t</code>. Since the exploration is performed randomly, it is recommended to use a large time value to explore the whole space (e.g., <code>-t 1000</code>).</p>
<h3>Overlap estimation (-o)</h3>
<p>This parameter defines the amount of expected overlap between the two clouds: it is ranging between 0 (no overlap) to 1 (100% overlap).</p>
<p>The overlap parameter controls the size of the basis used for registration, as shown in the Figure below:</p>
<div class="image">
<img src="img/super4PCS_overlap.png"  width="1000px"/>
</div>
<p>Usually, the larger the overlap, the faster the algorithm. When the overlap is unknown, a simple way to set this parameter is to start from 100% overlap, and decrease the value until obtaining a good result. Using too small values will slow down the algorithm, and reduce the accuracy of the result.</p>
<h3>Number of samples (-n)</h3>
<p>Input clouds are sub-sampled prior exploration, to ensure fast computations. Super4PCS has a linear complexity wrt the number of input samples, allowing to use larger values than 4PCS. Simple geometry with large overlap can be matched with only 200 samples. However, with Super4PCS, smaller details can be used during the process by using up to thousands of points. There is no theoretical limit to this parameter, however using too large values leads to very a large congruent set, which requires more time and memory to be explored.</p>
<p>Using a large number of samples is recommended when:</p>
<ul>
<li><b>geometrical details</b> are <em>required</em> to perform the matching, for instance to disambiguate between several similar configurations,</li>
<li>the clouds have a very low <b>overlap</b>: using a too sparse sampling can prevent to have samples in the overlapping area, causing the algorithm to fail,</li>
<li>the clouds are very <b>noisy</b>, and require a dense sampling.</li>
</ul>
<p>Note that Super4PCS is a global registration algorithm, which finds a good <em>approximate</em> of the rigid transformation aligning too clouds. Increasing the number of samples in order to get a fine registration is not optimal: it is usually faster to use less samples, and refine the transformation using a local algorithm, like the <a href="http://pointclouds.org/documentation/tutorials/iterative_closest_point.php">ICP</a>, or its variant <a href="https://github.com/OpenGP/sparseicp">SparseICP</a>.</p>
<h3>Registration accuracy (-d)</h3>
<p>This parameter controls the registration accuracy (delta in the paper) : setting a small value means that the two clouds needs to be very close to be considered as well aligned. It is expressed in scene units.</p>
<p>A simple way to understand its impact is to consider the computation of the Largest Common Pointset (LCP), the metric used to verify how much the clouds are aligned. For each transformation matrix produced by Super4PCS, we compute the LCP measure by considering a shell around the reference cloud, and count the % of points of the target cloud lying in the shell. The thickness of the shell is defined by the parameter delta.</p>
<p>The LCP values are given in the standard output: </p>
<pre class="fragment">    ./run-example.sh
    Use Super4PCS
    create tree
    create tree ... DONE (5281 points)
    Work with 414 points
    norm_max_dist: 0.010000
    Initial LCP: 0.004831
    Score: 0.748792
</pre><p> with 0.4% points lying in the shell at the beginning of the process, and 74.8% at the end. (If you want to test the exemple, make sure that you are in <code>build/install/scripts</code> directory before running the exemple.sh)</p>
<p>Using too wide values will slow down the algorithm by increasing the size of the congruent set, while using to small values prevents to find a solution. This parameter impacts other steps of the algorithm, see the paper for more details. </p>
</div></div><!-- contents -->
<!-- HTML footer for doxygen 1.8.8-->
<!-- start footer part -->
</div>
</div>
</div>
</div>
</div>
<hr class="footer"/><address class="footer"><small>
Generated on Wed Sep 26 2018 06:35:43 for OpenGR by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.6
</small></address>
</body>
</html>
